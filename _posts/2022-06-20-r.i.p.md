---
title: 【科普向】关于安卓的墓碑机制你可能需要了解的一些东西
tags: [科普, Android, 墓碑机制]
style: secondary
color: info
comments: true
description: 墓碑机制是手机操作系统中的一个程序运行规则。说简单点，就是手机上一个任务被迫中断时（如有电话打入），系统记录下当前应用程序的状态后，（像把事件记录在墓碑上一样），然后中止程序。当需要恢复时，根据“墓碑”上的内容，将程序恢复到中断之前的状态。这样的一种机制就是“墓碑机制”
---  
## 什么是墓碑机制？  
墓碑机制是手机操作系统中的一个程序运行规则。说简单点，就是手机上一个任务被迫中断时（如有电话打入），系统记录下当前应用程序的状态后，（像把事件记录在墓碑上一样），然后中止程序。当需要恢复时，根据“墓碑”上的内容，将程序恢复到中断之前的状态。这样的一种机制就是“墓碑机制”  
## Android如何开启/使用？  
1. 开发者选项这里，或者手机设置直接搜索“暂停”就会出现（前提打开开发者选项），如果没有那就是没有。  
    ![](/assets/2022-6-20-img/1.jpg)

2. 我的手机没有这个开关怎么办。目前国内安卓10及以下的手机都没有这个选项，安卓11部分机型有，安卓12默认开启这个开关。如果你是安卓11或者12，并且已经root了，那么可以去爱玩机工具箱-导航-系统相关-暂停执行已缓存应用，如图  
   ![](/assets/2022-6-20-img/2.jpg)
   *注意*：目前我所知道的，vivo在开发者选项里面可能有这个开关，但是开启后重启手机会自动关闭，所以我不确定能不能生效，因为vivo是不给你改开发者选项的机会的。  
3. 下载magisk模块-[墓碑](https://wwb.lanzoub.com/iLFWA06ajoxi
)。也可以看[@l奋斗的小青年](https://www.coolapk.com/u/l%E5%A5%8B%E6%96%97%E7%9A%84%E5%B0%8F%E9%9D%92%E5%B9%B4) 和[@HChai](https://www.coolapk.com/u/HChai) 的酷安主页。具体使用方法以及效果自行搜索学习，以下所有体验均基于安卓magisk模块墓碑。目前已经很完善了  

### 开启安卓墓碑后有什么效果。  
当你退出当前应用（这里“退出当前应用”是指切换到后台，比如回到桌面，锁屏，以及切换到其他应用，并不是指完全关闭应用），应用会在10秒左右（反正很快）进入缓存，在进入缓存之后，应用只会占用物理内存空间，但是不占同系统CPU资源，耗电量几乎可以忽略不计.
![](../assets/2022-6-20-img/3.jpg)  

可以看到物理内存几乎已经满了，如果是按照常理来说，后台应用应该已经开始打架，然后CPU也应该和内存一样爆红，温度直接爆炸，但是可以看到并没有，CPU压根没怎么工作，温度也是完全冰冰凉。  

![](../assets/2022-6-20-img/4.jpg)  

所以当你开启了安卓墓碑（前提是这个开关是真开关，有效的那种，不是vivo那种），那么你可以尝试改掉那种随手清后台，或者经常点击一键加速的那种习惯（我本人之前就是，桌面一个一键加速，通知栏一个一键加速，有事没事就加速），因为现在完全没有必要清理后台，而且打开应用也会是热启动，不用重新加载，另外也不存在杀后台的情况，因为物理内存一直是满的，如果杀了后台那内存肯定会空出来，如果后台被杀那完全就是因为内存不够，和“杀后台”没有任何关系。

怎么确定我开启这个安卓墓碑后是否生效。你可以尽全力打开你手机上的应用，然后打开scene查看内存占用，首页就可以看到。  
![](../assets/2022-6-20-img/5.jpg)  
然后点击scene-功能-进程管理，然后静止一会儿，查看后台应用的CPU占用情况就行了。
![](../assets/2022-6-20-img/6.jpg)  
*静止一会儿，大部分应用都会变成0或者3.3左右。安卓11手动打开开关后可以用这个方法测试，安卓12如果找不到这个开关可以直接开始测试（理论上默认开启），软件酷安都可以下。*  

### 为什么个别应用不会保持0%的占用。
个人猜测如下：QQ应该是要频繁接受信息，所以后台会有0-3.3左右的波动，可以接受，微信正常情况后台会一直保持0占用，但是收到信息会立刻上到3.3%左右的占用。还有就是你可能为了快速填满内存测试，打开一个应用一秒钟都没等他加载完就立即回到桌面，然后打开下一个应用，所以应用就会在后台继续加载，完全加载完成后便会回归到0%占用（归0时间会比正常完全加载打开的应用稍长，但是最终会变成0%的）。反正在3.3左右跳动都是正常的，别纠结。

### 关于安卓墓碑的误解。
1. 开启安卓墓碑不代表不会杀后台，这个和手机厂商的关系比较大，目前MIUI不杀后台，所以我误以为是安卓墓碑的效果。
2. 安卓墓碑需要内核支持，所以如果你开发者选项和爱玩机工具箱里面都没有这个开关，那可能就是不支持，不用在想办法去开启了。
3. 墓碑只能对后台应用的系统占用有一定优化作用，但是没法优化后台的内存占用，也没法优化前台应用的功耗问题，所以如果你经常清理后台，那么也没必要开启安卓墓碑。
4. 某些软件进不去墓碑可能是你禁用了某些组件，我不建议对应用有任何更改